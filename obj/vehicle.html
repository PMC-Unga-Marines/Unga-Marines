<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;vehicle - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/vehicle.html#var">Var Details</a> - <a href="obj/vehicle.html#proc">Proc Details</a></header>
<main>
<h1>vehicle <aside>/<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a></aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/vehicle.html#var/autogrant_actions_controller">autogrant_actions_controller</a></th><td>assoc list &quot;[bitflag]&quot; = list(typepaths)</td></tr>
            <tr><th><a href="obj/vehicle.html#var/autogrant_actions_passenger">autogrant_actions_passenger</a></th><td>plain list of typepaths</td></tr>
            <tr><th><a href="obj/vehicle.html#var/canmove">canmove</a></th><td>Whether the vehicle is currently able to move</td></tr>
            <tr><th><a href="obj/vehicle.html#var/hitbox">hitbox</a></th><td>multitile hitbox, set to a hitbox type to make this vehicle multitile.</td></tr>
            <tr><th><a href="obj/vehicle.html#var/inserted_key">inserted_key</a></th><td>The inserted key, needed on some vehicles to start the engine</td></tr>
            <tr><th><a href="obj/vehicle.html#var/key_type">key_type</a></th><td>If the driver needs a certain item in hand (or inserted, for vehicles) to drive this. For vehicles, this must be duplicated on their riding component subtype
<a href="datum/component/riding.html#var/keytype" title="/datum/component/riding">/datum/component/riding/var/keytype</a> variable because only a few specific checks are handled here with this var, and the majority of it is on the riding component
Eventually the remaining checks should be moved to the component and this var removed.</td></tr>
            <tr><th><a href="obj/vehicle.html#var/max_drivers">max_drivers</a></th><td>Maximum amount of drivers</td></tr>
            <tr><th><a href="obj/vehicle.html#var/max_occupants">max_occupants</a></th><td>Maximum amount of passengers plus drivers</td></tr>
            <tr><th><a href="obj/vehicle.html#var/occupant_actions">occupant_actions</a></th><td>assoc list mob = list(type = action datum assigned to mob)</td></tr>
            <tr><th><a href="obj/vehicle.html#var/occupants">occupants</a></th><td>mob = bitflags of their control level.</td></tr>
            <tr><th><a href="obj/vehicle.html#var/trailer">trailer</a></th><td>This vehicle will follow us when we move (like atrailer duh)</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/add_desant">add_desant</a></th><td>Any special behavior when a desant is added</td></tr>
            <tr><th><a href="obj/vehicle.html#proc/destroy_controller_action_type">destroy_controller_action_type</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/destroy_passenger_action_type">destroy_passenger_action_type</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/generate_action_type">generate_action_type</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/generate_actions">generate_actions</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/grant_action_type_to_mob">grant_action_type_to_mob</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/grant_passenger_actions">grant_passenger_actions</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/initialize_controller_action_type">initialize_controller_action_type</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/initialize_passenger_action_type">initialize_passenger_action_type</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/is_equipment_controller">is_equipment_controller</a></th><td>Is the passed mob an equipment controller?</td></tr>
            <tr><th><a href="obj/vehicle.html#proc/remove_action_type_from_mob">remove_action_type_from_mob</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/remove_desant">remove_desant</a></th><td>Any special behavior when a desant is removed</td></tr>
            <tr><th><a href="obj/vehicle.html#proc/remove_passenger_actions">remove_passenger_actions</a></th><td></td></tr>
            <tr><th><a href="obj/vehicle.html#proc/shuttleRotate">shuttleRotate</a></th><td>Machine rotate procs</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/autogrant_actions_controller"><aside class="declaration">var </aside>autogrant_actions_controller
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L40">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 40"/></a></h3>
        <p>assoc list &quot;[bitflag]&quot; = list(typepaths)</p><h3 id="var/autogrant_actions_passenger"><aside class="declaration">var </aside>autogrant_actions_passenger
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L38">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 38"/></a></h3>
        <p>plain list of typepaths</p><h3 id="var/canmove"><aside class="declaration">var </aside>canmove
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L36">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 36"/></a></h3>
        <p>Whether the vehicle is currently able to move</p><h3 id="var/hitbox"><aside class="declaration">var </aside>hitbox
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/hitbox.html">hitbox</a></aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L26">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 26"/></a></h3>
        <p>multitile hitbox, set to a hitbox type to make this vehicle multitile.</p><h3 id="var/inserted_key"><aside class="declaration">var </aside>inserted_key
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/key</aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L34">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 34"/></a></h3>
        <p>The inserted key, needed on some vehicles to start the engine</p><h3 id="var/key_type"><aside class="declaration">var </aside>key_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L32">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 32"/></a></h3>
        <p>If the driver needs a certain item in hand (or inserted, for vehicles) to drive this. For vehicles, this must be duplicated on their riding component subtype
<a href="datum/component/riding.html#var/keytype" title="/datum/component/riding">/datum/component/riding/var/keytype</a> variable because only a few specific checks are handled here with this var, and the majority of it is on the riding component
Eventually the remaining checks should be moved to the component and this var removed.</p><h3 id="var/max_drivers"><aside class="declaration">var </aside>max_drivers
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L22">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 22"/></a></h3>
        <p>Maximum amount of drivers</p><h3 id="var/max_occupants"><aside class="declaration">var </aside>max_occupants
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 20"/></a></h3>
        <p>Maximum amount of passengers plus drivers</p><h3 id="var/occupant_actions"><aside class="declaration">var </aside>occupant_actions
            <aside>&ndash; /list/mob</aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L42">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 42"/></a></h3>
        <p>assoc list mob = list(type = action datum assigned to mob)</p><h3 id="var/occupants"><aside class="declaration">var </aside>occupants
            <aside>&ndash; /list/mob</aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L18">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 18"/></a></h3>
        <p>mob = bitflags of their control level.</p><h3 id="var/trailer"><aside class="declaration">var </aside>trailer
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/vehicle.html">vehicle</a></aside>
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L44">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 44"/></a></h3>
        <p>This vehicle will follow us when we move (like atrailer duh)</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_desant"><aside class="declaration">proc </aside>add_desant<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_desant) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L180">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 180"/></a></aside>
        </h3>
        <p>Any special behavior when a desant is added</p><h3 id="proc/destroy_controller_action_type"><aside class="declaration">proc </aside>destroy_controller_action_type<aside>(actiontype, control_flag) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L74">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 74"/></a></aside>
        </h3>
        <hh2 id="destroy-controller-action-type">destroy_controller_action_type</hh2>
<p>As the name implies, removes the actiontype from autogrant and removes it from all occupants
args:</p>
<ul>
<li>actiontype: typepath of the action you want to remove from occupants and autogrant.</li>
</ul><h3 id="proc/destroy_passenger_action_type"><aside class="declaration">proc </aside>destroy_passenger_action_type<aside>(actiontype) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L48">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 48"/></a></aside>
        </h3>
        <hh2 id="destroy-passenger-action-type">destroy_passenger_action_type</hh2>
<p>Removes this action type from all occupants and stops autogranting it
args:</p>
<ul>
<li>actiontype: typepath of the action you want to remove from occupants and the autogrant list.</li>
</ul><h3 id="proc/generate_action_type"><aside class="declaration">proc </aside>generate_action_type<aside>(actiontype) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L21">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 21"/></a></aside>
        </h3>
        <hh2 id="generate-action-type">generate_action_type</hh2>
<p>A small proc to properly set up each action path.
args:</p>
<ul>
<li>actiontype: typepath of the action the proc sets up.
returns created and set up action instance</li>
</ul><h3 id="proc/generate_actions"><aside class="declaration">proc </aside>generate_actions<aside>() 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L10">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 10"/></a></aside>
        </h3>
        <hh2 id="generate-actions">generate_actions</hh2>
<p>You override this with initialize_passenger_action_type and initialize_controller_action_type calls
To give passengers actions when they enter the vehicle.
Read the documentation on the aforementioned procs to learn the difference</p><h3 id="proc/grant_action_type_to_mob"><aside class="declaration">proc </aside>grant_action_type_to_mob<aside>(actiontype, /<a href="mob.html">mob</a>/grant_to) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L90">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 90"/></a></aside>
        </h3>
        <hh2 id="grant-action-type-to-mob">grant_action_type_to_mob</hh2>
<p>As on the tin, it does all the annoying small stuff and sanity needed
to GRANT an action to a mob.
args:</p>
<ul>
<li>actiontype: typepath of the action you want to give to grant_to.</li>
<li>grant_to: the mob we're giving actiontype to
returns TRUE if successfully granted</li>
</ul><h3 id="proc/grant_passenger_actions"><aside class="declaration">proc </aside>grant_passenger_actions<aside>(/<a href="mob.html">mob</a>/grant_to) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L129">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 129"/></a></aside>
        </h3>
        <hh2 id="grant-passenger-actions">grant_passenger_actions</hh2>
<p>Called on every passenger that enters the vehicle, goes through the list of actions it needs to give...
and does that.
args:</p>
<ul>
<li>grant_to: mob that needs to get every action the vehicle grants</li>
</ul><h3 id="proc/initialize_controller_action_type"><aside class="declaration">proc </aside>initialize_controller_action_type<aside>(actiontype, control_flag) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L61">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 61"/></a></aside>
        </h3>
        <hh2 id="initialize-controller-action-type">initialize_controller_action_type</hh2>
<p>Gives any passenger that enters the vehicle this action... IF they have the correct vehicle control flag.
This is used so passengers cannot press buttons only drivers should have, for example.
args:</p>
<ul>
<li>actiontype: typepath of the action you want to give occupants.</li>
</ul><h3 id="proc/initialize_passenger_action_type"><aside class="declaration">proc </aside>initialize_passenger_action_type<aside>(actiontype) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L36">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 36"/></a></aside>
        </h3>
        <hh2 id="initialize-passenger-action-type">initialize_passenger_action_type</hh2>
<p>Gives any passenger that enters the mech this action.
They will lose it when they disembark.
args:</p>
<ul>
<li>actiontype: typepath of the action you want to give occupants.</li>
</ul><h3 id="proc/is_equipment_controller"><aside class="declaration">proc </aside>is_equipment_controller<aside>(/<a href="mob.html">mob</a>/M) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L102">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 102"/></a></aside>
        </h3>
        <p>Is the passed mob an equipment controller?</p><h3 id="proc/remove_action_type_from_mob"><aside class="declaration">proc </aside>remove_action_type_from_mob<aside>(actiontype, /<a href="mob.html">mob</a>/take_from) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L111">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 111"/></a></aside>
        </h3>
        <hh2 id="remove-action-type-from-mob">remove_action_type_from_mob</hh2>
<p>As on the tin, it does all the annoying small stuff and sanity needed
to REMOVE an action to a mob.
args:</p>
<ul>
<li>actiontype: typepath of the action you want to give to grant_to.</li>
<li>take_from: the mob we're taking actiontype to
returns TRUE if successfully removed</li>
</ul><h3 id="proc/remove_desant"><aside class="declaration">proc </aside>remove_desant<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/old_desant) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/__vehicle.dm#L184">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;__vehicle.dm 184"/></a></aside>
        </h3>
        <p>Any special behavior when a desant is removed</p><h3 id="proc/remove_passenger_actions"><aside class="declaration">proc </aside>remove_passenger_actions<aside>(/<a href="mob.html">mob</a>/take_from) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/vehicles/vehicle_actions.dm#L141">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vehicles&#x2F;vehicle_actions.dm 141"/></a></aside>
        </h3>
        <hh2 id="remove-passenger-actions">remove_passenger_actions</hh2>
<p>Called on every passenger that exits the vehicle, goes through the list of actions it needs to remove...
and does that.
args:</p>
<ul>
<li>take_from: mob that needs to get every action the vehicle grants</li>
</ul><h3 id="proc/shuttleRotate"><aside class="parent"><a title="/atom" href="atom.html#proc/shuttleRotate">&uarr;</a></aside>shuttleRotate<aside>(rotation, params) 
        
    
            <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/blob/861b322dc18399397a102e92ac7f1059211bd000/code/modules/shuttle/shuttle_rotate.dm#L67">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;shuttle&#x2F;shuttle_rotate.dm 67"/></a></aside>
        </h3>
        <p>Machine rotate procs</p></main>
<footer>
    tgmc.dme
    <a href="https://github.com/PMC-Unga-Marines/Unga-Marines/tree/861b322dc18399397a102e92ac7f1059211bd000">861b322</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
